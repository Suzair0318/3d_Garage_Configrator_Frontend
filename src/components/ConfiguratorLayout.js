import { useState } from "react";
import LeftMenuPanel from "./LeftMenuPanel";
import SlidingPanel from "./SlidingPanel";
import BuildingTypePanel from "./panels/BuildingTypePanel";
import SizePanel from "./panels/SizePanel";
import TopInfoPanel from "./TopInfoPanel"; // Adjust path as needed
import BottomControlPanel from "./BottomControlPanel"; // Adjust path as needed
import ConfiguratorIframe from "./ConfiguratorIframe";
import QuoteModal from "./QuoteModal";

// Professional SVG icons as components
const IconBuilding = () => (
  <svg className="w-6 h-6" xmlns="http://www.w3.org/2000/svg" xmlSpace="preserve" version="1.2" viewBox="0 0 150 150" fill="currentColor" stroke="currentColor" strokeWidth={1} vectorEffect="non-scaling-stroke">
    <path d="M74.9 149.8H5.3c-4.1 0-5.3-1.2-5.3-5.3V51.4c0-2.5.9-4.1 3-5.5C26 31 49 16 72 1c2.1-1.4 3.9-1.4 6 0 23 15 46.1 30.1 69.1 45 2 1.3 2.9 2.9 2.9 5.4-.1 31.1 0 62.2 0 93.3 0 3.9-1.2 5.1-5.2 5.1zm67.1-8c0-.5.1-.9.1-1.3V53.7c0-1.3-.6-1.9-1.5-2.5-21.4-13.8-42.8-27.7-64.1-41.7-1.1-.7-1.8-.7-2.9 0-21.3 13.9-42.7 27.8-64 41.7-1.2.8-1.6 1.6-1.6 3v87.6h13.4V76.6c-.5 0-.9-.1-1.3-.1-3.7-.1-5-1.4-5-5V61.4c0-1.7.6-3.2 2.2-3.9 1.1-.4 2.3-.5 3.4-.5h110.1c2.7.2 4.2 1.7 4.2 4.4v8.5c0 5.6-.5 6.1-6 6.6-.1 0-.1.1-.2.2v65.1zm-21.6-65.3H29.6v10.1h90.8zm-90.8 28.6h90.9V95H29.6zm90.9 8.2H29.7v10.1h90.8zm-.1 18.4H29.5v10.1h90.9zM127 65H23.1v3.3H127z"/>
    <path d="M75.1 132.8c1.8 0 3.7-.1 5.5 0 2.4.1 3.9 1.7 3.9 3.9 0 2.1-1.5 3.9-3.8 4-3.7.1-7.5.1-11.2 0-2.3-.1-3.8-1.8-3.9-3.9 0-2.3 1.5-3.8 4-4h.4q2.55-.15 5.1 0c0-.1 0 0 0 0"/>
  </svg>
);

const IconRuler = () => (
 <svg className="w-6 h-6" xmlns="http://www.w3.org/2000/svg" xmlSpace="preserve" version="1.2" viewBox="0 0 150 150" fill="currentColor" stroke="currentColor" strokeWidth={1} vectorEffect="non-scaling-stroke">
 <path d="M146.9 0H2.8C1.2 0 0 1.2 0 2.8v144.5c0 1.5 1.2 2.8 2.8 2.8h38.1c1.5 0 2.8-1.2 2.8-2.8V43.8H147c1.5 0 2.8-1.2 2.8-2.8V2.8c-.1-1.6-1.3-2.8-2.9-2.8M6.2 6.2h31.3v31.4H6.2zm0 137.6v-100h31.3v9.3h-7c-1.6 0-2.8 1.3-2.8 2.8v.7c0 1.6 1.3 2.8 2.8 2.8h7v6.2h-7c-1.6 0-2.8 1.3-2.8 2.8v.7c0 1.6 1.3 2.8 2.8 2.8h7v6H24.2c-1.6 0-2.8 1.3-2.8 2.8v.7c0 1.6 1.3 2.8 2.8 2.8h13.3v6h-7c-1.6 0-2.8 1.3-2.8 2.8v.7c0 1.6 1.3 2.8 2.8 2.8h7v6h-7c-1.6 0-2.8 1.3-2.8 2.8v.7c0 1.6 1.3 2.8 2.8 2.8h7v6.2H24.2c-1.6 0-2.8 1.3-2.8 2.8v.7c0 1.6 1.3 2.8 2.8 2.8h13.3v6.2h-7c-1.6 0-2.8 1.3-2.8 2.8v.7c0 1.6 1.3 2.8 2.8 2.8h7v9.2H6.2zM143.5 37.6h-9.1V31c0-1.6-1.3-2.8-2.8-2.8h-.7c-1.6 0-2.8 1.3-2.8 2.8v6.6H122V24.7c0-1.6-1.3-2.8-2.8-2.8h-.7c-1.6 0-2.8 1.3-2.8 2.8v12.9h-6.1V31c0-1.6-1.3-2.8-2.8-2.8h-.7c-1.6 0-2.8 1.3-2.8 2.8v6.6h-6.2V31c0-1.6-1.3-2.8-2.8-2.8h-.7c-1.6 0-2.8 1.3-2.8 2.8v6.6h-6.1V24.7c0-1.6-1.3-2.8-2.8-2.8h-.7c-1.6 0-2.8 1.3-2.8 2.8v12.9h-6.1V31c0-1.6-1.3-2.8-2.8-2.8h-.7c-1.6 0-2.8 1.3-2.8 2.8v6.6h-6V31c0-1.6-1.3-2.8-2.8-2.8h-.7c-1.6 0-2.8 1.3-2.8 2.8v6.6h-9.4V6.2h99.9v31.4zM146.7 67.2c-1.7 0-3.1-1.4-3.1-3.1v-6.2c0-1.7 1.4-3.1 3.1-3.1s3.1 1.4 3.1 3.1v6.2c0 1.7-1.4 3.1-3.1 3.1M146.7 89.3c-1.7 0-3.1-1.4-3.1-3.1V75c0-1.7 1.4-3.1 3.1-3.1s3.1 1.4 3.1 3.1v11.2c0 1.7-1.4 3.1-3.1 3.1"/><path d="m123.7 91.6-8-8V68.5c0-1.6-1.3-2.8-2.8-2.8h-.7c-1.6 0-2.8 1.3-2.8 2.8v8.7L95.8 63.8c-.6-.6-1.4-.9-2.2-.9s-1.6.3-2.2.9L63.6 91.6c-1.2 1.2-1.2 3.2 0 4.4s3.2 1.2 4.4 0l25.7-25.7L119.3 96c1.2 1.2 3.2 1.2 4.4 0s1.2-3.2 0-4.4"/><path d="M112.4 93.7c-1.7 0-3.1 1.4-3.1 3.1v15.7H78V96.8c0-1.7-1.4-3.1-3.1-3.1s-3.1 1.4-3.1 3.1v18.8c0 1.7 1.4 3.1 3.1 3.1h37.5c1.7 0 3.1-1.4 3.1-3.1V96.8c0-1.7-1.4-3.1-3.1-3.1M146.7 111.1c-1.7 0-3.1-1.4-3.1-3.1V96.8c0-1.7 1.4-3.1 3.1-3.1s3.1 1.4 3.1 3.1V108c0 1.7-1.4 3.1-3.1 3.1M146.7 132.9c-1.7 0-3.1-1.4-3.1-3.1v-11.2c0-1.7 1.4-3.1 3.1-3.1s3.1 1.4 3.1 3.1v11.2c0 1.7-1.4 3.1-3.1 3.1M64 146.9c0 1.7-1.4 3.1-3.1 3.1h-6.2c-1.7 0-3.1-1.4-3.1-3.1s1.4-3.1 3.1-3.1h6.2c1.7 0 3.1 1.3 3.1 3.1M146.7 137.4c-1.7 0-3.1 1.4-3.1 3.1v3.3h-4.2c-1.7 0-3.1 1.4-3.1 3.1s1.4 3.1 3.1 3.1h6.2c.3 0 .7-.1 1-.2h.1c1.7 0 3.1-1.4 3.1-3.1v-6.2c0-1.7-1.4-3.1-3.1-3.1M86.7 146.9c0 1.7-1.4 3.1-3.1 3.1H72.4c-1.7 0-3.1-1.4-3.1-3.1s1.4-3.1 3.1-3.1h11.2c1.7 0 3.1 1.3 3.1 3.1M109.5 146.9c0 1.7-1.4 3.1-3.1 3.1H95.2c-1.7 0-3.1-1.4-3.1-3.1s1.4-3.1 3.1-3.1h11.2c1.7 0 3.1 1.3 3.1 3.1M132.2 146.9c0 1.7-1.4 3.1-3.1 3.1h-11.2c-1.7 0-3.1-1.4-3.1-3.1s1.4-3.1 3.1-3.1h11.2c1.7 0 3.1 1.3 3.1 3.1"/>
 </svg>
);

const IconHome = () => (
<svg className="w-6 h-6" xmlns="http://www.w3.org/2000/svg" xmlSpace="preserve" version="1.2" viewBox="0 0 150 150" fill="currentColor" stroke="currentColor" strokeWidth={1} vectorEffect="non-scaling-stroke">
    <path d="M2.4 150c-1.8 0-2-.2-2-2V37.6c0-.9-.1-2-.3-3.1-.2-1.3.1-1.6 1.1-1.8C9 31 16.9 29.2 24.8 27.4L48 22.2c10.5-2.4 20.9-4.7 31.4-7.1l10-2.3c14.6-3.3 29.7-6.7 44.5-10.1 1.5-.3 3.1-.7 4.5-1.1 1.2-.3 2.5-.7 3.8-1s2.4-.5 3.5-.6h.1c.8 0 1.7 1 1.8 1.9v140.5c0 1 .1 2 .1 2.9 0 .8.1 1.6.1 2.4s-.1 1.3-.4 1.6-.8.4-1.5.4h-.1c-4.8-.1-9.9-.1-16.2-.2-1 0-1.3-.4-1.4-1.4V70.3h-108v77.4c0 1.1-.1 1.8-.3 2s-.9.3-2 .3H2.4M140 7.5h-.2c-.1 0-.3 0-.4.1l-3.4.8c-7.3 1.7-14.6 3.3-21.8 5-5.5 1.2-10.9 2.5-16.4 3.7-8.1 1.9-16.3 3.7-24.4 5.6l-3.1.7c-20.3 4.5-41 9.3-61.5 13.9-2.1.5-2.4 1.8-2.4 3.1v103.8h7.9v-78c0-.8.3-1.2.9-1.4.5-.1 1-.2 1.7-.2h114.4c2.4.3 2.6.5 2.6 2.5v76.6h7.4V7.3z"/>
</svg>
);

const IconGrid = () => (
  <svg className="w-6 h-6" xmlns="http://www.w3.org/2000/svg" xmlSpace="preserve" version="1.2" viewBox="0 0 150 150" fill="currentColor" stroke="currentColor" strokeWidth={1} vectorEffect="non-scaling-stroke">
    <path d="M6.7 150H2.1v-2.1c0-46.3 0-92.5.1-138.8 0-1.9.5-4 1.3-5.8C4.4 1.1 6.3 0 9 0c44 .1 88 0 132 0 3.6 0 6.5 2.6 6.8 6.3.1.7 0 1.4 0 2.1v141.5h-4.4V10.1c0-.8.2-1.8-.2-2.5-.5-.9-1.3-1.9-2.1-2.1-1.9-.4-4-.5-5.9-.5H15.8c-2.2 0-4.5.2-6.7.4-1.4.2-2.1 1.1-2.3 2.3-.1.7-.1 1.4-.1 2.1V150"/>
  </svg>
);

const IconPalette = () => (
  <svg className="w-6 h-6" xmlns="http://www.w3.org/2000/svg" xmlSpace="preserve" version="1.2" viewBox="0 0 150 150" fill="currentColor" stroke="currentColor" strokeWidth={1} vectorEffect="non-scaling-stroke">
    <path d="m150 104-.3.6c-1.3 5.3-4.5 8.9-9.8 10.4s-10.1.1-13.9-3.9l-15.9-16.8c-3.3-3.5-6.6-7-9.9-10.6-.6-.7-1.2-.8-2-.5-4 1.5-6.5 5.5-6.1 9.7.5 4.9 3.6 8.3 8 9 1.6.2 3.3.2 4.9.5 6.4 1.2 11.2 5.8 12.5 12.2 1.4 6.7-.6 12.3-6.3 16.3-8.5 5.9-18 9.5-28.3 11.1-12 1.9-23.8 1-35.3-3.2-21.1-7.6-35.6-22.1-43.4-43.2-9.9-27-2-58 19.5-77.2C34.3 8.9 46.6 2.8 60.7.8c33.8-5 67.5 14.2 78.8 48.1 3.4 10.3.3 21.1-8.1 28.1-.2.2-.4.3-.8.7.4.3.9.5 1.2.9 3.9 3.7 7.8 7.5 11.8 11.1 3.1 2.8 5.5 5.9 6.5 10-.1 1.4-.1 2.9-.1 4.3M92.9 76.1c-3.1-3.2-6.1-6.4-9-9.7-.8-.9-1.6-1.2-2.8-1-5.6.8-10.6-.5-15.3-3.6-4.3-2.8-6.5-7-8.2-11.6-3.2-8.7-4.8-17.8-5.9-27-.5-4.8 1.5-6.6 6.3-5.9 2.9.4 5.8.8 8.7 1.3 7.4 1.3 14.7 3 21.6 6.1 8.2 3.6 12.9 12.9 11.6 22.3-.1 1 0 1.6.7 2.3 7.5 7 15 14.1 22.5 21.2.3.3.7.6 1.1.9 6.6-4.2 9.4-12.1 7-19.6-11.8-35.8-53.3-53.3-87-36.6C20.3 27 5.3 53.2 9.7 81.3c1.9 12.3 6.8 23.2 15.4 32.2 18.2 19.2 40.3 24.9 65.6 17.7 5.4-1.5 10.4-4.1 15.1-7.2 2.5-1.7 3.7-4.4 3.1-7.2-.6-3-2.6-5-5.7-5.6-1.5-.3-3.1-.2-4.6-.5-10-1.5-17.1-11.7-15.2-21.5 1.1-5.7 4.2-10 9.5-13.1m-32-49.7c.5 2.6.8 4.7 1.2 6.8 1.1 5.6 2.2 11.3 4.7 16.5.8 1.7 2 3.3 3.4 4.4 4.7 3.7 11.2 3.6 15.9-.2 8.1-6.5 5.6-18.8-2.7-21.7-2.4-.8-4.7-1.8-7.2-2.4-4.8-1.2-9.9-2.2-15.3-3.4m30.6 35.3c.2.2.6.7 1 1.1 7.8 8.3 15.7 16.6 23.5 24.9 5.5 5.8 11 11.7 16.5 17.4 2.6 2.7 7 1.9 8.3-1.4.8-2.1.3-4-1.5-5.8L96.7 57.7c-.3-.3-.6-.5-.7-.5-1.5 1.5-3 2.9-4.5 4.5"/><path d="M60.7 124.6c-9 0-16.2-7.2-16.2-16.2s7.3-16.3 16.2-16.3 16.3 7.5 16.2 16.4c0 8.9-7.3 16.1-16.2 16.1m.1-23.6c-4.1 0-7.4 3.2-7.4 7.2 0 4.1 3.3 7.5 7.4 7.5s7.3-3.3 7.3-7.4c0-4-3.2-7.2-7.3-7.3M15.8 70.1c0-8.9 7.2-16.2 16.2-16.2 8.9-.1 16.3 7.3 16.3 16.2S40.8 86.4 32 86.3c-9-.1-16.2-7.3-16.2-16.2m23.6 0c0-4.1-3.2-7.3-7.3-7.3s-7.4 3.2-7.4 7.3 3.3 7.4 7.4 7.4c4-.1 7.3-3.3 7.3-7.4"/>
  </svg>
);

const IconWindow = () => (
  <svg className="w-6 h-6" xmlns="http://www.w3.org/2000/svg" xmlSpace="preserve" version="1.2" viewBox="0 0 150 150" fill="currentColor" stroke="currentColor" strokeWidth={1} vectorEffect="non-scaling-stroke">
    <path d="M127.7 135.2h18c1.6 0 3 .4 3.8 1.9 1.4 2.5-.4 5.2-3.3 5.3-3.9.1-7.7.2-11.6 0-10.3-.4-20.5 1.3-30.7 2.4s-20.4 2.3-30.6 3.4c-4.9.5-9.7 1.1-14.6 1.7-3.3.4-5-1-5.1-4.4v-3H4.5c-1.7 0-3.2-.3-4.1-1.8-1.5-2.5.3-5.4 3.4-5.4 5.4-.1 10.8 0 16.1 0h2.3V12.1c.1-3.2 1.2-4.4 4.4-4.4h26.9V4.1c.1-2.7 1.9-4.2 4.6-3.9 19.2 2.2 38.4 4.3 57.6 6.5 2.8.3 5.5.6 8.3 1 2.4.3 3.4 1.4 3.5 3.8v121.1c.2.7.2 1.5.2 2.6M61.1 7.7v134.6c19.9-2.2 39.5-4.5 59.2-6.7V14.4c-19.8-2.3-39.4-4.5-59.2-6.7m-7.5 127.4V26.5H41.3v108.6zm0-120.2H29.7v120.2h4.2v-112c.1-2.7 1.4-3.9 4.1-4h15.6z"/>
    <path d="M79.4 74.9c0 4.8-3.8 8.7-8.6 8.7-4.7 0-8.6-3.9-8.6-8.7s3.9-8.6 8.7-8.6c4.7 0 8.5 3.9 8.5 8.6m-6.6 0c-1-.6-1.6-1.3-2-1.2-.5.1-1.2.9-1.2 1.4s.8 1.2 1.3 1.2 1-.7 1.9-1.4"/>
  </svg>
);

const IconCog = () => (
  <svg className="w-6 h-6" xmlns="http://www.w3.org/2000/svg" xmlSpace="preserve" version="1.2" viewBox="0 0 150 150" fill="currentColor" stroke="currentColor" strokeWidth={1} vectorEffect="non-scaling-stroke">
  <path d="M150 12.3v125.4c-.1.3-.3.6-.3.9-1.6 6.7-7.4 11.4-14.3 11.4H14.6c-8 0-14.5-6.5-14.5-14.5v-121c0-5.9 3-10.3 8.2-13C9.6.8 11 .5 12.4 0h125.4c.3.1.5.2.8.3 4.8 1.2 8.3 4 10.3 8.5.4 1.1.7 2.3 1.1 3.5M5.9 38.7v95.8c0 6 3.7 9.7 9.7 9.7h118.9c6.1 0 9.7-3.7 9.7-9.8V38.8C98 38.7 52 38.7 5.9 38.7m0-6h138.2V14c0-.7-.2-1.4-.5-2.1-1.3-3.9-4.5-6-9-6H14.7C10 6 6.1 9.4 5.9 14c-.2 6.2 0 12.4 0 18.7"/><path d="M101.6 89.2c-.6.8-1 1.5-1.6 2.1-2.9 2.8-6.7 1.8-8-2-1-3.2-2-6.4-3-9.7H61.4c-1.8 0-3.1-.9-3.3-2.4-.3-1.9 1-3.4 3.2-3.4h26c-1.1-3.4-2.1-6.7-3.1-10H61.4c-2 0-3.3-1.2-3.3-2.9 0-1.8 1.2-2.9 3.3-2.9h69.7c2 0 3.2 1.1 3.2 2.8 0 1.8-1.2 3-3.2 3h-21.700000000000003v.2c1.9.6 3.8 1.2 5.8 1.8 4.2 1.3 5.1 5.1 2 8.3-.5.5-1 .9-1.6 1.5.4.4.6.7.9 1l6.3 6.3c2.2 2.2 2.2 4.8 0 7-2.2 2.3-4.5 4.5-6.7 6.7-2.1 2.1-4.8 2.1-6.9 0-2.5-2.2-4.9-4.6-7.6-7.4m10.4-18c-7.4-2.3-14.3-4.4-21.5-6.7 2.2 7.2 4.4 14.2 6.7 21.6.9-1 1.5-1.8 2.2-2.4 1.7-1.7 3.2-1.7 4.9 0 2.5 2.4 4.9 4.9 7.4 7.3.3.3.6.5.7.6l5.3-5.3c-2.6-2.6-5.4-5.3-8.1-8-1.6-1.7-1.6-3.2 0-4.8.6-.8 1.4-1.4 2.4-2.3M32.7 100.2c9.4 0 17 7.5 17.1 16.8 0 9.5-7.5 17.2-16.8 17.2-9.4 0-17.1-7.5-17.1-16.8-.1-9.6 7.4-17.2 16.8-17.2m.1 5.8c-6.1 0-11.1 5-11.1 11.1 0 6 5 11.1 11.1 11.2S44 123.2 44 117.1c-.1-6.1-5.1-11.1-11.2-11.1M32.9 51.8c9.4 0 16.9 7.6 16.9 17.1 0 9.4-7.7 16.9-17.1 16.9-9.3 0-16.9-7.7-16.9-17.2.1-9.2 7.7-16.8 17.1-16.8m-11.2 17c0 6 5 11.1 11.1 11.2 6 .1 11.1-5 11.2-11 .1-6.1-5-11.2-11.1-11.2-6.2-.1-11.2 4.9-11.2 11M96.3 106.3h34c.7 0 1.4 0 2 .2 1.2.3 2 1.6 1.9 3-.1 1.3-1.1 2.5-2.5 2.7-.4.1-.8 0-1.2 0H61.6c-.6 0-1.3-.1-1.8-.3-1.3-.5-2-1.9-1.7-3.2.2-1.3 1.3-2.2 2.7-2.3h1.6c11.2-.1 22.5-.1 33.9-.1M81.2 128H61.4c-1.8 0-3-.8-3.3-2.3-.4-1.8.8-3.5 2.7-3.6 1.1-.1 2.1 0 3.2 0h36.9c2 0 3.2.9 3.4 2.4.3 2-1.1 3.4-3.2 3.4-6.7.1-13.3.1-19.9.1M28.1 19.3c0 2.6-2 4.7-4.6 4.7-2.7 0-4.8-2-4.8-4.6 0-2.7 2.1-4.8 4.7-4.7 2.6 0 4.7 2.1 4.7 4.6M46.9 19.4c0 2.6-2.1 4.6-4.7 4.6-2.7 0-4.7-2.1-4.7-4.7s2.1-4.6 4.7-4.7c2.6.1 4.7 2.2 4.7 4.8M65.6 19.3c0 2.6-2 4.7-4.6 4.7-2.7 0-4.8-2-4.8-4.6 0-2.7 2.1-4.8 4.7-4.8 2.6.1 4.7 2.2 4.7 4.7"/><path d="M27.5 68.8c0-3 2.3-5.2 5.3-5.2s5.2 2.3 5.2 5.3c0 2.9-2.4 5.3-5.3 5.2-2.9 0-5.2-2.4-5.2-5.3"/>
  </svg>
);

const IconClipboard = () => (
  <svg className="w-6 h-6" xmlns="http://www.w3.org/2000/svg" xmlSpace="preserve" version="1.2" viewBox="0 0 150 150" fill="currentColor" stroke="currentColor" strokeWidth={1} vectorEffect="non-scaling-stroke">
    <path d="M106.1 15.7h18.3c5.6 0 9.1 3.4 9.1 9.1V141c0 4.4-2.4 7.7-6.2 8.7-.9.2-1.9.3-2.8.3-33.4 0-66.9 0-100.3.1-6 0-9.2-4.4-9.1-9.3 0-1.9.5-4-.2-5.6s-2.6-2.6-3.9-3.9c-6.2-6-9.9-13.3-10.8-22-1.3-13.5 3.5-24.5 14.3-32.8.8-.6.9-1.2.9-2V25c0-5.9 3.4-9.3 9.3-9.3h18.1v-2.8c0-2.7 1.1-3.8 3.8-3.8h11.2c1 0 1.4-.2 1.8-1.2C61.5 3 65 .3 70.3.1 73 0 75.8 0 78.5.1c5.2.2 8.7 2.9 10.7 7.6.5 1.1 1 1.4 2.2 1.4 3.6-.1 7.2 0 10.9 0 2.7 0 3.9 1.2 3.9 3.9-.1.8-.1 1.7-.1 2.7M21.3 72.1c.7-.2 1.2-.5 1.7-.6 3.1-.7 6.2-1.8 9.4-2.1 10.6-1 19.9 2.3 27.9 9.3.8.7 1.7 1.1 2.8 1.1h53.1c.6 0 1.2 0 1.8.1 2.2.4 3.2 2.3 2.5 4.4-.5 1.4-1.6 2-3.6 2H67.2c1.3 3.3 2.6 6.3 3.7 9.5.4 1.2.8 1.6 2.1 1.6h43.3c.5 0 1.1 0 1.6.1 1.2.2 2.1.8 2.6 2 .9 2.5-.6 4.4-3.5 4.5H72.5c-.4 3.8-.9 7.4-1.3 11.1h45c.5 0 1.1 0 1.6.1 2.2.4 3.3 2.2 2.6 4.3-.5 1.5-1.5 2.1-3.6 2.1h-47c-1.1 0-1.6.3-2.2 1.3-7.1 13.5-23.5 21.1-38.4 17.9-2.5-.5-5-1.4-7.6-2.1v1.6c0 3.2.2 3.4 3.3 3.4h99.4c2.7 0 3-.3 3-3V25.5c0-3.1-.3-3.4-3.3-3.4h-17.9v2.2c0 3.6-1 4.6-4.6 4.6H46.8c-2.7 0-3.9-1.2-3.9-3.9v-2.9H24.7c-2.8 0-3.3.4-3.3 3.2v45c-.1.7-.1 1.2-.1 1.8m44.6 33c0-16-13.4-29.5-29.3-29.5-16.8 0-30.1 13-30.2 29.5 0 16.6 13.1 29.9 29.7 29.9 16.4 0 29.8-13.4 29.8-29.9m33.7-89.5H88.2c-3.3 0-4-.7-4.5-4-.4-3.2-2.5-5.1-5.7-5.1h-6.8c-3.5 0-5.5 1.9-5.8 5.4-.3 2.6-1.3 3.6-3.9 3.6h-12v6.8h50.2c-.1-2.2-.1-4.3-.1-6.7"/><path d="M86.7 44.3h30.5c2.7 0 4.2 2 3.2 4.3-.3.8-1.3 1.5-2.1 1.9-.6.3-1.4.2-2.2.2H56.9c-.7 0-1.4 0-2.1-.2-1.6-.3-2.6-1.7-2.5-3.2s1.3-2.9 2.8-3.1c.5-.1 1.1 0 1.6 0 10 .1 20 .1 30 .1M86.5 68.5H56.3c-1.6 0-3.1-.2-3.8-2-.8-2.1.3-4.1 2.6-4.4.4-.1.8-.1 1.2-.1h60.2c2.4 0 3.4.6 3.9 2.4.6 1.9-.5 3.7-2.5 4-.6.1-1.3.1-1.9.1zM36 50.7c-1.4 0-2.8.1-4.2 0-2.3-.1-3.6-1.4-3.5-3.4q.15-3 3.6-3h8.3c2.2 0 3.4 1.1 3.5 3 .1 2-1 3.2-3.2 3.4-1.5.1-3 0-4.5 0M35.9 68.5h-4.5c-1.9-.1-3.1-1.2-3.2-3.1-.1-1.8 1-3.2 2.9-3.3 3.2-.1 6.4-.1 9.7 0 1.9.1 2.9 1.4 2.8 3.3-.1 1.8-1.2 2.9-3 3h-.4c-1.4.1-2.8.1-4.3.1M31 111.2c.4-.6.7-1.1 1.1-1.5l16.2-16.2c2-2 3.9-2.3 5.3-.9 1.6 1.5 1.3 3.3-.8 5.4-6.4 6.4-12.8 12.8-19.1 19.2-2.1 2.1-3.6 2.1-5.8 0-2.9-3-5.9-5.9-8.8-8.9-1.7-1.7-1.8-3.6-.4-5s3.3-1.3 5 .4c2.3 2.4 4.6 4.7 7.3 7.5M74.5 21c-3.4 0-6.2-2.9-6.2-6.4 0-3.6 2.7-6.5 6.1-6.5s6.2 2.9 6.2 6.4c0 1.8-.6 3.4-1.9 4.7-1 1.2-2.6 1.8-4.2 1.8m-1.7-6.4c-.1.7 1.1 1.7 1.8 1.7.7-.1 1.5-1.2 1.4-1.9 0-.7-1-1.5-1.7-1.4-.6.1-1.4 1-1.5 1.6"/>
    </svg>
);

const IconCurrency = () => (
  <svg className="w-6 h-6" xmlns="http://www.w3.org/2000/svg" xmlSpace="preserve" version="1.2" viewBox="0 0 150 150" fill="currentColor" stroke="currentColor" strokeWidth={1} vectorEffect="non-scaling-stroke">
    <path d="M89.7 150c-2-.4-4.1-.7-6.1-1.2-11.1-2.7-19.7-8.9-26-18.3-.7-1-1.4-1.4-2.6-1.4-12.6 0-25.3.1-37.9 0-8.1 0-14.6-5.2-16.5-12.9-.4-1.2-.6-2.5-.6-3.7V16.7C0 7.5 7.5 0 16.7 0h49.9C68 0 69.1.5 70 1.4 80.3 12.2 90.6 23 100.9 33.9c1 1 1.4 2.2 1.4 3.6v27.2c3.1 1.1 6.2 2 9 3.3 13.5 6.4 21.9 17 24.6 31.6 3.9 21.3-8.9 41.9-29.6 48.4-2.5.8-5.1 1.1-7.7 1.7-.4.1-.8.2-1.3.3zM64.1 6.4c-.5-.1-.8-.1-1.2-.1H17.3c-1.7 0-3.6.4-5.2 1.1-4.3 2.2-5.8 6-5.8 10.6v93.1c0 1.2 0 2.5.3 3.6 1.3 5.2 5.2 8 10.9 8h34.4c.4 0 .8-.1 1.4-.1q-4.8-12.6-1.8-25.8H26.2c-.5 0-1.1 0-1.6-.1-1.5-.3-2.5-1.6-2.5-3 0-1.5 1-2.8 2.6-3.1.6-.1 1.3-.2 1.9-.2h25.6c.8 0 1.4-.1 1.9-1 1.2-2.4 2.6-4.8 4-7.1q.3-.6.9-1.5H26.7c-.8 0-1.6 0-2.3-.2q-1.8-.45-2.1-2.4c-.4-2.2 1.1-3.7 3.7-3.7h37.6c.8 0 1.8-.4 2.5-.9 5.9-4.7 12.5-7.9 20-9.1 3.2-.5 6.5-.6 9.7-.9v-24h-2c-5.8-.1-11.6 0-17.4-.3-6.5-.3-12-6.1-12.2-12.4s-.1-12.6-.1-18.9zm29.4 137.4c20.2 0 36.6-16.5 36.7-36.7 0-20.2-16.3-36.6-36.6-36.8-20.2-.1-36.8 16.5-36.7 36.8-.1 20.2 16.3 36.6 36.6 36.7M91.6 33.4C84.4 25.9 77.5 18.6 70.4 11c0 5.3-.1 10.2 0 15 .2 4.1 3.1 7.2 6.8 7.3 4.7.2 9.4.1 14.4.1"/><path d="M41 65.3H25.5c-1.7 0-2.9-.9-3.2-2.4s.3-2.9 1.7-3.5c.6-.3 1.3-.3 2-.3h30.3c2.3 0 3.7 1.1 3.8 3s-1.4 3.2-3.5 3.3c-5.2 0-10.4-.1-15.6-.1M89.9 94.4c-.3.4-.6.9-.9 1.2-3.7 3.9-7.3 7.9-11 11.7-.7.7-1.9 1.4-2.8 1.5-2.3.2-3.8-2.5-2.7-4.6.3-.5.7-1 1.1-1.4 5.7-6.1 11.3-12.1 17-18.2 2.1-2.3 3.8-2.3 5.9 0 5.8 6.2 11.5 12.3 17.3 18.5 1 1 1.6 2.1 1.1 3.6-.4 1.1-1.2 1.9-2.4 2.1-1.4.3-2.4-.5-3.3-1.5-3.6-3.9-7.2-7.8-10.9-11.7-.4-.4-.8-.8-1.4-1.5v33.2c0 2-.9 3.4-2.4 3.8-1.7.4-3.3-.5-3.7-2.2-.2-.7-.2-1.4-.2-2.2V94.4c-.4.1-.6 0-.7 0"/>
    </svg>
);

export default function ConfiguratorLayout() {

  const menuItems = [
    { icon: IconBuilding, label: 'Building Type', id: 'building' },
    { icon: IconRuler, label: 'Size', id: 'size' },
    { icon: IconHome, label: 'Lean', id: 'lean' },
    { icon: IconGrid, label: 'Sides', id: 'sides' },
    { icon: IconPalette, label: 'Colors', id: 'colors' },
    { icon: IconWindow, label: 'Door', id: 'doors' },
    { icon: IconCog, label: 'Options', id: 'options' },
    { icon: IconClipboard, label: 'Summary', id: 'summary' },
    { icon: IconCurrency, label: 'Quotes', id: 'quotes' }
  ];
 
  const [activeIndex, setActiveIndex] = useState(null); // Set "Building Type" as active by default
  const [activePanelItem, setActivePanelItem] = useState(null);
  const [isPanelVisible, setIsPanelVisible] = useState(false);
  const [isQuoteModalOpen, setIsQuoteModalOpen] = useState(false);

 

  const handleClosePanel = () => {
    setIsPanelVisible(false);
    setActivePanelItem(null);
    setActiveIndex(null);
    setActivePanelItem(null);
  };

  const handleQuoteModalClose = () => {
    setIsQuoteModalOpen(false);
    setIsPanelVisible(false);
    setActivePanelItem(null);
    setActiveIndex(null);
    setActivePanelItem(null);
  };

  return (
    <div className="relative h-screen w-screen overflow-hidden flex flex-col">
      {/* Top Menu */}
      <div className="z-30">
        <TopInfoPanel/>
      </div>

      <div className="flex-1 flex overflow-hidden">
        {/* Left Sidebar */}
        <LeftMenuPanel 
          activeIndex={activeIndex}
          setActiveIndex={setActiveIndex}
          activePanelItem={activePanelItem}
          setActivePanelItem={setActivePanelItem}
          isPanelVisible={isPanelVisible}
          setIsPanelVisible={setIsPanelVisible}
          menuItems={menuItems}
          setIsQuoteModalOpen={setIsQuoteModalOpen}
        />

        {/* Main Viewer Area (iframe) */}
        <div className="flex-1 flex items-center justify-center relative bg-gradient-to-br from-gray-50 to-gray-100 overflow-hidden">
        
          <ConfiguratorIframe />

          {/* Sliding Panel overlays here */}
          <SlidingPanel 
            activeMenuItem={activePanelItem}
            setActiveIndex={setActiveIndex}
            setActivePanelItem={setActivePanelItem}
            isVisible={isPanelVisible}
            onClose={handleClosePanel}
             />
    
        </div>
      </div>

      {/* Bottom Menu */}
      <div className="z-30">
        <BottomControlPanel />
      </div>

      {/* Quote Modal */}
      <QuoteModal 
        isOpen={isQuoteModalOpen}
        onClose={handleQuoteModalClose}
      />
    </div>
  );
}